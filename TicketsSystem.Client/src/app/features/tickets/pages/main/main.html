<section class="flex flex-col gap-6">
    <div class="flex justify-between items-center">
        <div>
            <h3 class="text-sm font-medium text-brand-text-muted">System Overview</h3>
            <h1 class="text-4xl font-bold">Dashboard</h1>
        </div>
        <div class="">
            <app-button label="Create New Ticket" heroIcon="heroPlus"></app-button>
        </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <app-card>
            <div class="flex justify-between items-start mt-4">
                <div class="flex p-2 rounded-lg bg-brand-primary/20">
                    <ng-icon name="heroExclamationCircle" class="text-2xl text-brand-primary"></ng-icon>
                </div>
                <small class="text-green-500 font-medium">+4.5%</small>
            </div>
            <div class="mt-4">
                <h3 class="text-brand-text-muted text-sm">Open Incidents</h3>
                <h2 class="font-bold text-3xl mt-1">12</h2>
            </div>
        </app-card>

        <app-card>
            <div class="flex justify-between items-start mt-4">
                <div class="flex p-2 rounded-lg bg-amber-500/20">
                    <ng-icon name="heroEllipsisHorizontal" class="text-2xl text-amber-500"></ng-icon>
                </div>
                <small class="text-green-500 font-medium">+12%</small>
            </div>
            <div class="mt-4">
                <h3 class="text-brand-text-muted text-sm">In Progress</h3>
                <h2 class="font-bold text-3xl mt-1">28</h2>
            </div>
        </app-card>

        <app-card>
            <div class="flex justify-between items-start mt-4">
                <div class="flex p-2 rounded-lg bg-green-500/20">
                    <ng-icon name="heroCheckCircle" class="text-2xl text-green-500"></ng-icon>
                </div>
                <small class="text-red-500 font-medium">-2%</small>
            </div>
            <div class="mt-4">
                <h3 class="text-brand-text-muted text-sm">Resolved Today</h3>
                <h2 class="font-bold text-3xl mt-1">156</h2>
            </div>
        </app-card>
    </div>

    <!-- Recent Tickets Table -->
    <app-table title="Recent Tickets" [columns]="columns" [data]="tickets" [pagination]="pagination"
        (pageChange)="onPageChange($event)">
        <ng-template #cellTemplate let-row let-column="column">
            @switch (column.key) {
            @case ('id') {
            <span class="text-brand-primary font-medium">{{ row.id }}</span>
            }
            @case ('subject') {
            <div>
                <p class="font-medium">{{ row.subject }}</p>
                <p class="text-sm text-brand-text-muted">Reported by {{ row.reportedBy }}</p>
            </div>
            }
            @case ('priority') {
            <span class="px-2 py-1 text-xs font-semibold rounded border" [ngClass]="getPriorityClass(row.priority)">
                {{ row.priority }}
            </span>
            }
            @case ('status') {
            <div class="flex items-center gap-2">
                <span class="w-2 h-2 rounded-full" [ngClass]="getStatusClass(row.status)"></span>
                <span>{{ row.status }}</span>
            </div>
            }
            @case ('createdDate') {
            <span class="text-brand-text-muted">{{ row.createdDate }}</span>
            }
            @case ('actions') {
            <button class="p-1 hover:bg-brand-bg rounded transition-colors">
                <ng-icon name="heroEllipsisVertical" class="text-xl text-brand-text-muted"></ng-icon>
            </button>
            }
            }
        </ng-template>
    </app-table>
</section>